#!/usr/local/bin/koios
#   koios-polos (north star) -- customized c unit testing meta-program and mini-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                ouroboros.h                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP    [è1]  (WAVE) verify allocating and freeing script entries                WAVE_new, WAVE_force, WAVE_wipe, WAVE_free                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     create working variable              - - - - - - - - - - - - -   tWAVE    *x_wave  = NULL;                                                                                                                                                                                                  
     code     create working variable              - - - - - - - - - - - - -   tWAVE    *x_save  = NULL;                                                                                                                                                                                                  
     code     create working variable              - - - - - - - - - - - - -   int      c        =    0;                                                                                                                                                                                                  

   COND       quick success                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call allocate                        WAVE_new                    &x_wave                                                                                               i_equal     1                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     1                                                                                                    

   COND       free the memory                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            WAVE_free                   &x_wave                                                                                               i_equal     0                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_wave                                                                                                p_null      0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       attempt to free with null pointer                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            WAVE_free                   &x_wave                                                                                               i_lesser    0                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_wave                                                                                                p_null      0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       attempt to free with null                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            WAVE_free                   NULL                                                                                                  i_lesser    0                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_wave                                                                                                p_null      0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       re-add the first entry                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call allocate                        WAVE_new                    &x_wave                                                                                               i_equal     1                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     1                                                                                                    

   COND       attempt to reuse a pointer                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call allocate                        WAVE_new                    &x_wave                                                                                               i_lesser    0                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     1                                                                                                    

   COND       force into used pointer                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy/save pointer                    - - - - - - - - - - - - -   x_save = x_wave;                                                                                                                                                                                                           
     exec     call allocate                        WAVE_force                  &x_wave                                                                                               i_equal     1                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... verify pointer changed           - - - - - - - - - - - - -   x_wave                                                                                                p_not       [[ x_save ]]                                                                                         
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     2                                                                                                    

   COND       free the memory                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            WAVE_free                   &x_wave                                                                                               i_equal     0                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_wave                                                                                                p_null      0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     1                                                                                                    

   COND       free the save                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            WAVE_free                   &x_save                                                                                               i_equal     0                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_save                                                                                                p_null      0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       verify program teardown purges                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP    [è1]  (WAVE) verify populating waves with basics                         WAVE_populate, WAVE_results                                                                           ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     create working variable              - - - - - - - - - - - - -   tWAVE    *x_1st   = NULL;                                                                                                                                                                                                  
     code     create working variable              - - - - - - - - - - - - -   tWAVE    *x_2nd   = NULL;                                                                                                                                                                                                  
     code     create working variable              - - - - - - - - - - - - -   int      c        =    0;                                                                                                                                                                                                  

   COND       quick success                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call allocate                        WAVE_new                    &x_1st                                                                                                i_equal     1                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_1st                                                                                                 p_exists    0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     1                                                                                                    
     get      ... check results                    WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : -  0   0[]                       0   0[]                                          
     get      ... check results                    WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  -   -[]                       -   -[]                                          
     get      ... check results                    WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          
     exec     call populate                        WAVE_populate               x_1st          , 'è'   , 1      , "koios"        , 2      , "description for script"                  i_equal     0                                                                                                    
     get      ... check results                    WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  1   5[koios]                  2  22[description for script]                    
     get      ... check results                    WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  -   -[]                       -   -[]                                          
     get      ... check results                    WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          
     get      ... check sort key                   WAVE__unit                  "key"          ,  0                                                                                   s_equal     WAVE key    ( 0) : 11[è.1.koios.2]                                                                     

   COND       attempt to add a duplicate                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call allocate                        WAVE_new                    &x_2nd                                                                                                i_equal     1                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_2nd                                                                                                 p_exists    0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     2                                                                                                    
     get      ... check results                    WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  1   5[koios]                  2  22[description for script]                    
     get      ... check results                    WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  0   0[]                       0   0[]                                          
     get      ... check results                    WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          
     exec     call populate                        WAVE_populate               x_1st          , 'è'   , 1      , "koios"        , 2      , "description for script"                  i_lesser    0                                                                                                    

   COND       attempt to add with bad data                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call populate                        WAVE_populate               x_2nd          , 'a'   , 2      , "koios"        , 2      , "description for script"                  i_lesser    1                                                                                                    
     exec     call populate                        WAVE_populate               x_2nd          , '+'   , 2      , "koios"        , 2      , "description for script"                  i_lesser    1                                                                                                    
     exec     call populate                        WAVE_populate               x_2nd          , '_'   , 2      , "koios"        , 2      , "description for script"                  i_lesser    1                                                                                                    
     exec     call populate                        WAVE_populate               x_2nd          , 'é'   , -1     , "koios"        , 2      , "description for script"                  i_lesser    1                                                                                                    
     exec     call populate                        WAVE_populate               x_2nd          , 'é'   , 10     , "koios"        , 2      , "description for script"                  i_lesser    1                                                                                                    
     exec     call populate                        WAVE_populate               x_2nd          , 'é'   , 2      , NULL           , 2      , "description for script"                  i_lesser    1                                                                                                    
     exec     call populate                        WAVE_populate               x_2nd          , 'é'   , 2      , "koios"        , -1     , "description for script"                  i_lesser    1                                                                                                    
     exec     call populate                        WAVE_populate               x_2nd          , 'é'   , 2      , "koios"        , 100    , "description for script"                  i_lesser    1                                                                                                    
     exec     call populate                        WAVE_populate               x_2nd          , 'é'   , 2      , "koios"        , 2      , NULL                                      i_lesser    1                                                                                                    
     get      ... check results                    WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  1   5[koios]                  2  22[description for script]                    
     get      ... check results                    WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  0   0[]                       0   0[]                                          
     get      ... check results                    WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          

   COND       add unique data                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call populate                        WAVE_populate               x_2nd          , 'é'   , 2      , "koios"        , 3      , "description for script"                  i_equal     0                                                                                                    
     get      ... check results                    WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  1   5[koios]                  2  22[description for script]                    
     get      ... check results                    WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : é  2   5[koios]                  3  22[description for script]                    
     get      ... check results                    WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          

   COND       free the memory                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            WAVE_free                   &x_1st                                                                                                i_equal     0                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_1st                                                                                                 p_null      0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     1                                                                                                    

   COND       free the save                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call free                            WAVE_free                   &x_2nd                                                                                                i_equal     0                                                                                                    
     echo     ... review return pointer            - - - - - - - - - - - - -   x_2nd                                                                                                 p_null      0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       verify program teardown purges                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP    [é2]  (WAVE) verify parsing of wave records                              WAVE_parse                                                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the global data                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     create working variable              - - - - - - - - - - - - -   tWAVE    *x_wave  = NULL;                                                                                                                                                                                                  

   COND       quick success                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse a record                       WAVE_parse                  "è § 5 § koios     §  2 § (SCRP) verify reading a script"                                     , '-'   i_equal     5                                                                                                    
     get      ... check results                    WAVE__unit                  "parse"        ,  0                                                                                   s_equal     WAVE parse       : è  5   5[koios]                  2  30[(SCRP) verify reading a script]            
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       attempt with null                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse a record                       WAVE_parse                  NULL                                                                                          , '-'   i_lesser    0                                                                                                    
     get      ... check results                    WAVE__unit                  "parse"        ,  0                                                                                   s_equal     WAVE parse       : -  0   0[]                       0   0[]                                          
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       change head and tail spacing                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse a record                       WAVE_parse                  "  ì §    9 §    koios     § 4 §        (SCRP) attempt reading a script"                      , '-'   i_equal     5                                                                                                    
     get      ... check results                    WAVE__unit                  "parse"        ,  0                                                                                   s_equal     WAVE parse       : ì  9   5[koios]                  4  31[(SCRP) attempt reading a script]           
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       attempt with fewer fields                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse a record                       WAVE_parse                  "  ì §    9 §    koios     § 4 §"                                                             , '-'   i_lesser    0                                                                                                    
     get      ... check results                    WAVE__unit                  "parse"        ,  0                                                                                   s_equal     WAVE parse       : ì  9   5[koios]                  4   0[]                                          
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       quick success                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse a record                       WAVE_parse                  "è § 5 § koios     §  2 § (SCRP) verify reading a script"                                     , '-'   i_equal     5                                                                                                    
     get      ... check results                    WAVE__unit                  "parse"        ,  0                                                                                   s_equal     WAVE parse       : è  5   5[koios]                  2  30[(SCRP) verify reading a script]            
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          

   COND       verify creation also                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse a record                       WAVE_parse                  "è § 1 § koios     §  2 § description for script"                                             , 'y'   i_equal     5                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     1                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  1   5[koios]                  2  22[description for script]                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          

   COND       verify creation also                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     parse a record                       WAVE_parse                  "é § 2 § koios     §  3 § another description"                                                , 'y'   i_equal     5                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     2                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  1   5[koios]                  2  22[description for script]                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : é  2   5[koios]                  3  19[another description]                       
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          

   COND       purge all data                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            WAVE_purge                                                                                                                        i_equal     0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP    [é3]  (WAVE) verify reading of koios wave files                          WAVE_read                                                                                             ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the global data                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     make sure test file is not there     - - - - - - - - - - - - -   system ("rm -f /tmp/koios.wave");                                                                                                                                                                                           

   COND       attempt with a null name                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     read file                            WAVE_read                   NULL                    , '-'                                                                         i_lesser    0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       attempt with non-existant file                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     read file                            WAVE_read                   "/tmp/koios.wave"       , '-'                                                                         i_lesser    0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       attempt an empty file                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     system   touch a file                         - - - - - - - - - - - - -   touch  /tmp/koios.wave                                                                                                                                                                                                     
     exec     read file                            WAVE_read                   "/tmp/koios.wave"       , '-'                                                                         i_equal     0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       run with a single line                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ÿ § 7 § koios § 11 § sample script¶         > /tmp/koios.wave                                                                                                                                                       
     exec     read file                            WAVE_read                   "/tmp/koios.wave"       , '-'                                                                         i_equal     1                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       add more lines                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     system   add a line                           - - - - - - - - - - - - -   echo  ¶è § 2 § koios §  2 § other script¶         >> /tmp/koios.wave                                                                                                                                                       
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ë § 5 § koios §  5 § another sample¶       >> /tmp/koios.wave                                                                                                                                                       
     exec     read file                            WAVE_read                   "/tmp/koios.wave"       , '-'                                                                         i_equal     3                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    

   COND       read with parsing and creating                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     read file                            WAVE_read                   "/tmp/koios.wave"       , 'y'                                                                         i_equal     3                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     3                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : è  2   5[koios]                  2  12[other script]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : ë  5   5[koios]                  5  14[another sample]                            

   COND       purge all data                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            WAVE_purge                                                                                                                        i_equal     0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure test file is not there     - - - - - - - - - - - - -   system ("rm -f /tmp/koios.wave");                                                                                                                                                                                          
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP    [ê4]  (WAVE) verify finding of koios wave files                          WAVE_inventory, WAVE_gnome, WAVE_by_index, WAVE_by_cursor, PROJ_by_index, PROJ_by_cursor              ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the global data                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     create working variable              - - - - - - - - - - - - -   tWAVE    *x_wave  = NULL;                                                                                                                                                                                                  
     code     make sure test file is not there     - - - - - - - - - - - - -   system ("rm -f /tmp/koios.wave");                                                                                                                                                                                          
     code     make sure test file is not there     - - - - - - - - - - - - -   system ("rm -f /tmp/koios_scrp.wave");                                                                                                                                                                                     
     code     make sure test file is not there     - - - - - - - - - - - - -   system ("rm -f /tmp/koios_prog.wave");                                                                                                                                                                                     

   COND       attempt with a null name                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     inventory directory                  WAVE_inventory              NULL                    , '-'                                                                         i_lesser    0                                                                                                    

   COND       attempt non-existant directory                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     inventory directory                  WAVE_inventory              "/temp"                 , '-'                                                                         i_lesser    0                                                                                                    

   COND       run on directory with no waves                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     inventory directory                  WAVE_inventory              "/tmp"                  , '-'                                                                         i_equal     0                                                                                                    

   COND       run on directory with single file                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     system   touch a file                         - - - - - - - - - - - - -   touch  /tmp/koios.wave                                                                                                                                                                                                     
     exec     inventory directory                  WAVE_inventory              "/tmp"                  , '-'                                                                         i_equal     1                                                                                                    

   COND       run on directory with multiple files                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     system   touch a file                         - - - - - - - - - - - - -   touch  /tmp/koios_scrp.wave                                                                                                                                                                                                
     system   touch a file                         - - - - - - - - - - - - -   touch  /tmp/koios_prog.wave                                                                                                                                                                                                
     exec     inventory directory                  WAVE_inventory              "/tmp"                  , '-'                                                                         i_equal     3                                                                                                    

   COND       add a first file                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ÿ § 7 § koios § 11 § sample script¶         > /tmp/koios.wave                                                                                                                                                       
     system   add a line                           - - - - - - - - - - - - -   echo  ¶è § 2 § koios §  2 § other script¶         >> /tmp/koios.wave                                                                                                                                                       
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ë § 5 § koios §  5 § another sample¶       >> /tmp/koios.wave                                                                                                                                                       

   COND       run with one file filled                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     inventory directory                  WAVE_inventory              "/tmp"                  , 'y'                                                                         i_equal     3                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     3                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check entry                      WAVE__unit                  "entry"        ,  3                                                                                   s_equal     WAVE entry  ( 3) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : -  -   -[]                       -   -[]                                          

   COND       check all sorting keys                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  0                                                                                   s_equal     WAVE sortkey( 0) : 27[è.2.koios               .02]     39[tmp            .koios               .02]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  1                                                                                   s_equal     WAVE sortkey( 1) : 27[ë.5.koios               .05]     39[tmp            .koios               .05]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  2                                                                                   s_equal     WAVE sortkey( 2) : 27[ÿ.7.koios               .11]     39[tmp            .koios               .11]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  3                                                                                   s_equal     WAVE sortkey( 3) :  -[]                                 -[]                                          
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  4                                                                                   s_equal     WAVE sortkey( 4) :  -[]                                 -[]                                          
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  5                                                                                   s_equal     WAVE sortkey( 5) :  -[]                                 -[]                                          
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  6                                                                                   s_equal     WAVE sortkey( 6) :  -[]                                 -[]                                          

   COND       review waves (project-order)                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... check project entry              WAVE__unit                  "project"      ,  0                                                                                   s_equal     PROJ entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check project entry              WAVE__unit                  "project"      ,  1                                                                                   s_equal     PROJ entry  ( 1) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check project entry              WAVE__unit                  "project"      ,  2                                                                                   s_equal     PROJ entry  ( 2) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check project entry              WAVE__unit                  "project"      ,  3                                                                                   s_equal     PROJ entry  ( 3) : -  -   -[]                       -   -[]                                          
     get      ... check project entry              WAVE__unit                  "project"      ,  4                                                                                   s_equal     PROJ entry  ( 4) : -  -   -[]                       -   -[]                                          
     get      ... check project entry              WAVE__unit                  "project"      ,  5                                                                                   s_equal     PROJ entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check project entry              WAVE__unit                  "project"      ,  6                                                                                   s_equal     PROJ entry  ( 6) : -  -   -[]                       -   -[]                                          

   COND       purge all data                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            WAVE_purge                                                                                                                        i_equal     0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : -  -   -[]                       -   -[]                                          

   COND       add a second file                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ê § 7 § koios_scrp §  1 § good one¶              > /tmp/koios_scrp.wave                                                                                                                                                  
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ê § 8 § koios_scrp §  2 § fantastic¶            >> /tmp/koios_scrp.wave                                                                                                                                                  

   COND       run with two files illed                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     inventory directory                  WAVE_inventory              "/tmp"                  , 'y'                                                                         i_equal     3                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     5                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : ê  7  10[koios_scrp]             1   8[good one]                                  
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : ê  8  10[koios_scrp]             2   9[fantastic]                                 
     get      ... check entry                      WAVE__unit                  "entry"        ,  3                                                                                   s_equal     WAVE entry  ( 3) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : -  -   -[]                       -   -[]                                          

   COND       check all sorting keys                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  0                                                                                   s_equal     WAVE sortkey( 0) : 27[è.2.koios               .02]     39[tmp            .koios               .02]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  1                                                                                   s_equal     WAVE sortkey( 1) : 27[ê.7.koios_scrp          .01]     39[tmp            .koios_scrp          .01]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  2                                                                                   s_equal     WAVE sortkey( 2) : 27[ê.8.koios_scrp          .02]     39[tmp            .koios_scrp          .02]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  3                                                                                   s_equal     WAVE sortkey( 3) : 27[ë.5.koios               .05]     39[tmp            .koios               .05]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  4                                                                                   s_equal     WAVE sortkey( 4) : 27[ÿ.7.koios               .11]     39[tmp            .koios               .11]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  5                                                                                   s_equal     WAVE sortkey( 5) :  -[]                                 -[]                                          
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  6                                                                                   s_equal     WAVE sortkey( 6) :  -[]                                 -[]                                          

   COND       review waves (project-order)                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... check project entry              WAVE__unit                  "project"      ,  0                                                                                   s_equal     PROJ entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check project entry              WAVE__unit                  "project"      ,  1                                                                                   s_equal     PROJ entry  ( 1) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check project entry              WAVE__unit                  "project"      ,  2                                                                                   s_equal     PROJ entry  ( 2) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check project entry              WAVE__unit                  "project"      ,  3                                                                                   s_equal     PROJ entry  ( 3) : ê  7  10[koios_scrp]             1   8[good one]                                  
     get      ... check project entry              WAVE__unit                  "project"      ,  4                                                                                   s_equal     PROJ entry  ( 4) : ê  8  10[koios_scrp]             2   9[fantastic]                                 
     get      ... check project entry              WAVE__unit                  "project"      ,  5                                                                                   s_equal     PROJ entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check project entry              WAVE__unit                  "project"      ,  6                                                                                   s_equal     PROJ entry  ( 6) : -  -   -[]                       -   -[]                                          

   COND       purge all data                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            WAVE_purge                                                                                                                        i_equal     0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : -  -   -[]                       -   -[]                                          

   COND       add third file                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ò § 2 § koios_prog §  1 § middlish¶              > /tmp/koios_prog.wave                                                                                                                                                  
     system   add a line                           - - - - - - - - - - - - -   echo  ¶õ § 1 § koios_prog §  2 § little later¶         >> /tmp/koios_prog.wave                                                                                                                                                  

   COND       review waves (script-order)                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     inventory directory                  WAVE_inventory              "/tmp"                  , 'y'                                                                         i_equal     3                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     7                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : ê  7  10[koios_scrp]             1   8[good one]                                  
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : ê  8  10[koios_scrp]             2   9[fantastic]                                 
     get      ... check entry                      WAVE__unit                  "entry"        ,  3                                                                                   s_equal     WAVE entry  ( 3) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : ò  2  10[koios_prog]             1   8[middlish]                                  
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : õ  1  10[koios_prog]             2  12[little later]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : ÿ  7   5[koios]                 11  13[sample script]                             

   COND       check all sorting keys                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  0                                                                                   s_equal     WAVE sortkey( 0) : 27[è.2.koios               .02]     39[tmp            .koios               .02]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  1                                                                                   s_equal     WAVE sortkey( 1) : 27[ê.7.koios_scrp          .01]     39[tmp            .koios_scrp          .01]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  2                                                                                   s_equal     WAVE sortkey( 2) : 27[ê.8.koios_scrp          .02]     39[tmp            .koios_scrp          .02]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  3                                                                                   s_equal     WAVE sortkey( 3) : 27[ë.5.koios               .05]     39[tmp            .koios               .05]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  4                                                                                   s_equal     WAVE sortkey( 4) : 27[ò.2.koios_prog          .01]     39[tmp            .koios_prog          .01]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  5                                                                                   s_equal     WAVE sortkey( 5) : 27[õ.1.koios_prog          .02]     39[tmp            .koios_prog          .02]   
     get      ... check sortkey                    WAVE__unit                  "sortkey"      ,  6                                                                                   s_equal     WAVE sortkey( 6) : 27[ÿ.7.koios               .11]     39[tmp            .koios               .11]   

   COND       review waves (project-order)                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... check project entry              WAVE__unit                  "project"      ,  0                                                                                   s_equal     PROJ entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check project entry              WAVE__unit                  "project"      ,  1                                                                                   s_equal     PROJ entry  ( 1) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check project entry              WAVE__unit                  "project"      ,  2                                                                                   s_equal     PROJ entry  ( 2) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check project entry              WAVE__unit                  "project"      ,  3                                                                                   s_equal     PROJ entry  ( 3) : ò  2  10[koios_prog]             1   8[middlish]                                  
     get      ... check project entry              WAVE__unit                  "project"      ,  4                                                                                   s_equal     PROJ entry  ( 4) : õ  1  10[koios_prog]             2  12[little later]                              
     get      ... check project entry              WAVE__unit                  "project"      ,  5                                                                                   s_equal     PROJ entry  ( 5) : ê  7  10[koios_scrp]             1   8[good one]                                  
     get      ... check project entry              WAVE__unit                  "project"      ,  6                                                                                   s_equal     PROJ entry  ( 6) : ê  8  10[koios_scrp]             2   9[fantastic]                                 

   COND       search by index (script-order)                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... get before head                  WAVE_by_index               &x_wave                 , -1                                                                          i_lesser    0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_null      0                                                                                                    
     exec     ... get first                        WAVE_by_index               &x_wave                 , 0                                                                           i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     other script                                                                                         
     exec     ... get middle                       WAVE_by_index               &x_wave                 , 3                                                                           i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     another sample                                                                                       
     exec     ... get last                         WAVE_by_index               &x_wave                 , 6                                                                           i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     sample script                                                                                        
     exec     ... get past tail                    WAVE_by_index               &x_wave                 , 7                                                                           i_lesser    0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_null      0                                                                                                    

   COND       search by index (project-order)                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... get before head                  PROJ_by_index               &x_wave                 , -1                                                                          i_lesser    0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_null      0                                                                                                    
     exec     ... get first                        PROJ_by_index               &x_wave                 , 0                                                                           i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     other script                                                                                         
     exec     ... get middle                       PROJ_by_index               &x_wave                 , 3                                                                           i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     middlish                                                                                             
     exec     ... get last                         PROJ_by_index               &x_wave                 , 6                                                                           i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     fantastic                                                                                            
     exec     ... get past tail                    PROJ_by_index               &x_wave                 , 7                                                                           i_lesser    0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_null      0                                                                                                    

   COND       search forward by cursor (script-order)                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... move to head                     WAVE_by_cursor              &x_wave                 , '['                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     other script                                                                                         
     exec     ... move to prev                     WAVE_by_cursor              &x_wave                 , '<'                                                                         i_lesser    0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     other script                                                                                         
     exec     ... move to next                     WAVE_by_cursor              &x_wave                 , '>'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     good one                                                                                             
     exec     ... move to next                     WAVE_by_cursor              &x_wave                 , '>'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     fantastic                                                                                            
     exec     ... return current                   WAVE_by_cursor              &x_wave                 , '.'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     fantastic                                                                                            

   COND       search forward by cursor (project-order)                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... move to head                     PROJ_by_cursor              &x_wave                 , '['                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     other script                                                                                         
     exec     ... move to prev                     PROJ_by_cursor              &x_wave                 , '<'                                                                         i_lesser    0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     other script                                                                                         
     exec     ... move to next                     PROJ_by_cursor              &x_wave                 , '>'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     another sample                                                                                       
     exec     ... move to next                     PROJ_by_cursor              &x_wave                 , '>'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     sample script                                                                                        
     exec     ... return current                   PROJ_by_cursor              &x_wave                 , '.'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     sample script                                                                                        

   COND       search backward by cursor (script-order)                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... move to tail                     WAVE_by_cursor              &x_wave                 , ']'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     sample script                                                                                        
     exec     ... move to next                     WAVE_by_cursor              &x_wave                 , '>'                                                                         i_lesser    0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     sample script                                                                                        
     exec     ... move to prev                     WAVE_by_cursor              &x_wave                 , '<'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     little later                                                                                         
     exec     ... move to prev                     WAVE_by_cursor              &x_wave                 , '<'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     middlish                                                                                             
     exec     ... return current                   WAVE_by_cursor              &x_wave                 , '.'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     middlish                                                                                             

   COND       search backward by cursor (project-order)                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... move to tail                     PROJ_by_cursor              &x_wave                 , ']'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     fantastic                                                                                            
     exec     ... move to next                     PROJ_by_cursor              &x_wave                 , '>'                                                                         i_lesser    0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     fantastic                                                                                            
     exec     ... move to prev                     PROJ_by_cursor              &x_wave                 , '<'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     good one                                                                                             
     exec     ... move to prev                     PROJ_by_cursor              &x_wave                 , '<'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     little later                                                                                         
     exec     ... return current                   PROJ_by_cursor              &x_wave                 , '.'                                                                         i_equal     0                                                                                                    
     echo     ... return pointer                   - - - - - - - - - - - - -   x_wave                                                                                                p_exists    0                                                                                                    
     echo     ... review entry                     - - - - - - - - - - - - -   x_wave->desc                                                                                          s_equal     little later                                                                                         

   COND       purge all data                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            WAVE_purge                                                                                                                        i_equal     0                                                                                                    
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     0                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : -  -   -[]                       -   -[]                                          

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure test file is not there     - - - - - - - - - - - - -   system ("rm -f /tmp/koios.wave");                                                                                                                                                                                          
     code     make sure test file is not there     - - - - - - - - - - - - -   system ("rm -f /tmp/koios_scrp.wave");                                                                                                                                                                                     
     code     make sure test file is not there     - - - - - - - - - - - - -   system ("rm -f /tmp/koios_prog.wave");                                                                                                                                                                                     
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP    [è1]  (WAVE) verify purging projects                                     WAVE_purge_by_path                                                                                    ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the global data                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     move out                             - - - - - - - - - - - - -   chdir  ("/tmp");
     code     create working variable              - - - - - - - - - - - - -   tWAVE    *x_wave  = NULL;                                                                                                                                                                                                  

   COND       set an alternative database name                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create working variable              - - - - - - - - - - - - -   char       *x_args [3]  = { "ouroboros"      , "--db"           , "/tmp/testing"   };                                                                                                                                      
     exec     call arg                             PROG__args                  3              , x_args                                                                               i_equal     0                                                                                                    
     echo     ... review database name             - - - - - - - - - - - - -   my.n_db                                                                                               s_equal     /tmp/testing.db                                                                                      

   COND       add a first file                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create testbed directory             - - - - - - - - - - - - -   system ("mkdir testone");                                                                                                                                                                                     
     code     move in                              - - - - - - - - - - - - -   chdir  ("testone");                                                                                                                                                                                     
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ÿ § 7 § koios      § 11 § sample script¶         > koios.wave                                                                                                                                                       
     system   add a line                           - - - - - - - - - - - - -   echo  ¶è § 2 § koios      §  2 § other script¶         >> koios.wave                                                                                                                                                       
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ë § 5 § koios      §  5 § another sample¶       >> koios.wave                                                                                                                                                       
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ò § 2 § koios_prog §  1 § middlish¶              > koios_prog.wave                                                                                                                                                  
     system   add a line                           - - - - - - - - - - - - -   echo  ¶õ § 1 § koios_prog §  2 § little later¶         >> koios_prog.wave                                                                                                                                                  
     exec     inventory directory                  WAVE_here                                                                                                                         i_equal     2                                                                                                    
     code     move out                             - - - - - - - - - - - - -   chdir  ("/tmp");

   COND       verify waves                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     5                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : ò  2  10[koios_prog]             1   8[middlish]                                  
     get      ... check entry                      WAVE__unit                  "entry"        ,  3                                                                                   s_equal     WAVE entry  ( 3) : õ  1  10[koios_prog]             2  12[little later]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  7                                                                                   s_equal     WAVE entry  ( 7) : -  -   -[]                       -   -[]                                          
     get      ... overall statistics               DB__unit                    "stats"        ,  0                                                                                   s_equal     DB stats         :     1p,     2u,     5s,     0c,     0s        0r,     0p,     0f,     0b,     0o  

   COND       add a second file                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create testbed directory             - - - - - - - - - - - - -   system ("mkdir testtwo");                                                                                                                                                                                     
     code     move in                              - - - - - - - - - - - - -   chdir  ("testtwo");                                                                                                                                                                                     
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ê § 7 § koios_scrp §  1 § good one¶              > koios_scrp.wave                                                                                                                                                  
     system   add a line                           - - - - - - - - - - - - -   echo  ¶ê § 8 § koios_scrp §  2 § fantastic¶            >> koios_scrp.wave                                                                                                                                                  
     exec     inventory directory                  WAVE_here                                                                                                                         i_equal     1                                                                                                    
     code     move out                             - - - - - - - - - - - - -   chdir  ("/tmp");

   COND       verify waves                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     7                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : ê  7  10[koios_scrp]             1   8[good one]                                  
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : ê  8  10[koios_scrp]             2   9[fantastic]                                 
     get      ... check entry                      WAVE__unit                  "entry"        ,  3                                                                                   s_equal     WAVE entry  ( 3) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : ò  2  10[koios_prog]             1   8[middlish]                                  
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : õ  1  10[koios_prog]             2  12[little later]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check entry                      WAVE__unit                  "entry"        ,  7                                                                                   s_equal     WAVE entry  ( 7) : -  -   -[]                       -   -[]                                          
     get      ... overall statistics               DB__unit                    "stats"        ,  0                                                                                   s_equal     DB stats         :     2p,     3u,     7s,     0c,     0s        0r,     0p,     0f,     0b,     0o  

   COND       purge a specific unit                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     unit purge                           WAVE_purge_by_unit          "koios_prog"                                                                                          i_equal     2                                                                                                    

   COND       verify waves                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     5                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : ê  7  10[koios_scrp]             1   8[good one]                                  
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : ê  8  10[koios_scrp]             2   9[fantastic]                                 
     get      ... check entry                      WAVE__unit                  "entry"        ,  3                                                                                   s_equal     WAVE entry  ( 3) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  7                                                                                   s_equal     WAVE entry  ( 7) : -  -   -[]                       -   -[]                                          
     get      ... overall statistics               DB__unit                    "stats"        ,  0                                                                                   s_equal     DB stats         :     2p,     2u,     5s,     0c,     0s        0r,     0p,     0f,     0b,     0o  

   COND       purge a project                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     project purge                        WAVE_purge_by_path          "/tmp/testtwo"                                                                                        i_equal     2                                                                                                    

   COND       verify waves                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     3                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : è  2   5[koios]                  2  12[other script]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : ë  5   5[koios]                  5  14[another sample]                            
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : ÿ  7   5[koios]                 11  13[sample script]                             
     get      ... check entry                      WAVE__unit                  "entry"        ,  3                                                                                   s_equal     WAVE entry  ( 3) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  7                                                                                   s_equal     WAVE entry  ( 7) : -  -   -[]                       -   -[]                                          
     get      ... overall statistics               DB__unit                    "stats"        ,  0                                                                                   s_equal     DB stats         :     1p,     1u,     3s,     0c,     0s        0r,     0p,     0f,     0b,     0o  

   COND       change the first file                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     move in                              - - - - - - - - - - - - -   chdir  ("testone");                                                                                                                                                                                     
     system   add a line                           - - - - - - - - - - - - -   echo  ¶é § 7 § koios      §  1 § sample¶                > koios.wave                                                                                                                                                       
     system   add a line                           - - - - - - - - - - - - -   echo  ¶é § 2 § koios      §  2 § other¶                >> koios.wave                                                                                                                                                       
     system   add a line                           - - - - - - - - - - - - -   echo  ¶é § 5 § koios      §  3 § another¶              >> koios.wave                                                                                                                                                       
     exec     inventory directory                  WAVE_here                                                                                                                         i_equal     2                                                                                                    
     code     move out                             - - - - - - - - - - - - -   chdir  ("/tmp");

   COND       verify waves                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ... review count                     - - - - - - - - - - - - -   my.scrps                                                                                              i_equal     5                                                                                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  0                                                                                   s_equal     WAVE entry  ( 0) : é  2   5[koios]                  2   5[other]                                     
     get      ... check entry                      WAVE__unit                  "entry"        ,  1                                                                                   s_equal     WAVE entry  ( 1) : é  5   5[koios]                  3   7[another]                                   
     get      ... check entry                      WAVE__unit                  "entry"        ,  2                                                                                   s_equal     WAVE entry  ( 2) : é  7   5[koios]                  1   6[sample]                                    
     get      ... check entry                      WAVE__unit                  "entry"        ,  3                                                                                   s_equal     WAVE entry  ( 3) : ò  2  10[koios_prog]             1   8[middlish]                                  
     get      ... check entry                      WAVE__unit                  "entry"        ,  4                                                                                   s_equal     WAVE entry  ( 4) : õ  1  10[koios_prog]             2  12[little later]                              
     get      ... check entry                      WAVE__unit                  "entry"        ,  5                                                                                   s_equal     WAVE entry  ( 5) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  6                                                                                   s_equal     WAVE entry  ( 6) : -  -   -[]                       -   -[]                                          
     get      ... check entry                      WAVE__unit                  "entry"        ,  7                                                                                   s_equal     WAVE entry  ( 7) : -  -   -[]                       -   -[]                                          
     get      ... overall statistics               DB__unit                    "stats"        ,  0                                                                                   s_equal     DB stats         :     1p,     2u,     5s,     0c,     0s        0r,     0p,     0f,     0b,     0o  

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     remove testbed directory             - - - - - - - - - - - - -   system ("rm -rf testone");                                                                                                                                                                                     
     code     remove testbed directory             - - - - - - - - - - - - -   system ("rm -rf testtwo");                                                                                                                                                                                     
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



